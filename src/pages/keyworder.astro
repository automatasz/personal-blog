---
import I18nKey from "@i18n/i18nKey";
import { i18n } from "@i18n/translation";
import MainGridLayout from "@layouts/MainGridLayout.astro";
import KeyworderSvelte from "@components/Keyworder.svelte";
import { actions } from "astro:actions";

const stats = await actions.getStats();
---

<MainGridLayout description={i18n(I18nKey.keyworder)} title={i18n(I18nKey.keyworder)}>
  <div class="flex w-full rounded-[var(--radius-large)] overflow-hidden relative min-h-32">
    <div class="card-base z-10 px-9 py-6 relative w-full">
      <h1 class="text-90 text-3xl font-black">Welcome to Keyworder</h1>
      <p class="text-75 mt-2">
        Upload images that you would like to get descriptions for. The images will be uploaded to the server and a
        description will be generated for each of them. You can then use the generated descriptions to add keywords to
        your images in posts, photo stock websites or personal galleries.
      </p>
      <ol class="list-decimal list-inside text-75 my-6">
        <li>Press the <b>Choose files</b> button.</li>
        <li>Choose files you want to get descriptions for.</li>
        <li>Wait for the form to get ready.</li>
        <li>Review selected images.</li>
        <li>Press Describe button to get the descriptions!</li>
        <li>Patiently wait until it is done...</li>
      </ol>
      <pre>
        {JSON.stringify(stats.data, null, 2)}
      </pre>
      <KeyworderSvelte client:load />
    </div>
  </div>
</MainGridLayout>
